{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import express from \"express\";\n\nconst endpoints = require(\"../endpoints.json\");\nconsole.log(endpoints);\n\nconst app = express();\nconst port = 3000;\nconst server = require(\"http\").Server(app);\n\napp.get(\"/\", (err, res) => {\n  res.status(200);\n  res.json({ working: true });\n  res.end();\n});\n\napp.get(\"/routes\", (err, res) => {\n  //   console.log(app._router.stack);\n  const routes = app._router.stack\n    .filter(x => x.route && x.route.path)\n    .map(x => {\n      return x.route.path;\n    });\n  console.log(routes);\n  res.status(200);\n  res.json({ routes: routes });\n  res.end();\n});\n\nfor (let ep of endpoints.endpoints) {\n  console.log(ep);\n  if (ep.method === \"GET\") {\n    app.get(`/${ep.url}`, (err, res) => {\n      res.status(200);\n      res.json({ value: ep.return });\n      res.end();\n    });\n  }\n}\n\nserver.listen(port, err => {\n  if (err) {\n    throw err;\n  }\n  console.log(\"endpoints working\");\n});\n"],"names":["endpoints","require","console","log","const","app","express","server","Server","get","err","res","status","json","working","end","routes","_router","stack","filter","x","route","path","map","let","ep","method","value","return","listen"],"mappings":"8EAEMA,EAAYC,QAAQ,qBAC1BC,QAAQC,IAAIH,GAEZI,IAAMC,EAAMC,IAENC,EAASN,QAAQ,QAAQO,OAAOH,GAEtCA,EAAII,IAAI,aAAMC,EAAKC,GACjBA,EAAIC,OAAO,KACXD,EAAIE,KAAK,CAAEC,SAAS,IACpBH,EAAII,QAGNV,EAAII,IAAI,mBAAYC,EAAKC,OAEjBK,EAASX,EAAIY,QAAQC,MACxBC,gBAAOC,UAAKA,EAAEC,OAASD,EAAEC,MAAMC,OAC/BC,aAAIH,UACIA,EAAEC,MAAMC,OAEnBpB,QAAQC,IAAIa,GACZL,EAAIC,OAAO,KACXD,EAAIE,KAAK,CAAEG,OAAQA,IACnBL,EAAII,QAGN,qBAAKS,IAAIC,OACPvB,QAAQC,IAAIsB,GACM,QAAdA,EAAGC,QACLrB,EAAII,QAAQgB,EAAO,aAAIf,EAAKC,GAC1BA,EAAIC,OAAO,KACXD,EAAIE,KAAK,CAAEc,MAAOF,EAAGG,SACrBjB,EAAII,eANKf,EAAUA,8BAWzBO,EAAOsB,OAjCM,aAiCOnB,MACdA,QACIA,EAERR,QAAQC,IAAI"}